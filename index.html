<script src="https://telegram.org/js/games.js"></script>
<script>
    // Initialize the game
    TelegramGameProxy.init();

    // Create the game UI
    const gameContainer = document.createElement('div');
    gameContainer.style.display = 'flex';
    gameContainer.style.justifyContent = 'center';
    gameContainer.style.gap = '20px';
    gameContainer.style.marginTop = '50px';

    // Generate three boxes
    const boxes = [];
    for (let i = 1; i <= 3; i++) {
        const box = document.createElement('button');
        box.textContent = `Box ${i}`;
        box.style.padding = '20px';
        box.style.fontSize = '18px';
        box.style.cursor = 'pointer';
        box.dataset.boxId = i;
        box.onclick = () => handleBoxClick(i);
        boxes.push(box);
        gameContainer.appendChild(box);
    }

    document.body.appendChild(gameContainer);

    // Randomly determine which box contains the fart
    const fartBox = Math.ceil(Math.random() * 3);

    // Handle box click
    function handleBoxClick(boxId) {
        if (boxId === fartBox) {
            alert('ðŸ’¨ You found the fart! Better luck next time!');
        } else {
            alert('ðŸŽ‰ You avoided the fart! Congratulations!');
        }

        // End the game
        TelegramGameProxy.gameOver();
    }
</script>